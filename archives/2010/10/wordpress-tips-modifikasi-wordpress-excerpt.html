<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible">

<script src="../../../assets/js/webfont.js" type="text/javascript"></script>

<link href="../../../assets/css/style.css" media="screen" rel="stylesheet" type="text/css" />

<link href="../../../assets/images/favicon.ico" rel="icon" type="image/ico" />
</head>


<title>WordPress Tips: Modifikasi WordPress Excerpt | Jurnal Aris FM</title>


<body>
<header class="site-header" id="masthead" role="banner">
<h1 class="site-title">
<a class="home-link" href="/" rel="home" title="Cekerholic">Jurnal Aris FM</a>
</h1>
<p class="site-description">Catatan seorang Front-end Developer</p>
<nav class="site-navigation">
<a href="/about">Tentang</a>
<a href="/arsip">Arsip</a>
</nav>
</header>

<div class="container">
<div class="content">
<article class="post">
<h2 class="post-title">WordPress Tips: Modifikasi WordPress Excerpt</h2>
<p class="post-meta">
<time datetime="2010-10-23">23 October 2010</time>
<a href="/archives/2010/10/wordpress-tips-modifikasi-wordpress-excerpt.html#disqus_thread">Comments</a>
</p>
<div class="entry-content"><p>Bagi yang belum tahu, Excerpt adalah ringkasan dari suatu tulisan atau dalam konteks blog adalah ringkasan posting. </p>

<p>Bagi pengguna WordPress, excerpt dapat dimasukkan secara manual pada saat membuat posting.</p>

<div id="attachment_364" class="wp-caption aligncenter" style="width: 741px">
  <a href="http://i2.wp.com/cekerholic.com/wp-content/uploads/2010/10/manual-excerpt.png"><img src="http://i2.wp.com/cekerholic.com/wp-content/uploads/2010/10/manual-excerpt.png?fit=604%2C174" alt="" title="manual-excerpt" class="size-full wp-image-364" data-recalc-dims="1" /></a><p class="wp-caption-text">
    Membuat Manual Excerpt
  </p>
</div>

<p>Ada beberapa theme WordPress yang otomatis menampilkan sebuah posting sebagai excerpt di halaman muka blog atau halaman arsip kategori. Biasanya theme itu menggunakan template tag <code>the_excerpt()</code> di post template-nya.</p>

<p>Jika <code>the_excerpt()</code> digunakan maka otomatis WordPress akan menampilkan 55 kata pertama dalam posting sebagai <em>excerpt</em>, menghilangkan semua pemformatan HTML pada sebuah postingan, dan menampilkan tanda […] (suffix dot) pada akhir ringkasan. Karena semua format HTML hilang, maka secara otomatis paragraf, link dan image (jika ada) akan hilang pada tampilan <em>excerpt</em>, ini kurang baik karena tampilan postingan menjadi kurang menarik. Agar tampilan <em>excerpt</em> menjadi lebih baik, kita bisa memodifikasinya melalui functions.php.</p>

<p><strong>Membuat <em>function</em> <code>custom_excerpt()</code></strong><br />
Oke, sekarang waktunya kita koding. Kita akan membuat sebuah functions yang bernama <code>custom_excerpt()</code> untuk menggantikan <code>the_excerpt()</code>. Buka functions.php di directory theme wordpress anda dan masukkan baris kode berikut:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
4
5
6
</pre>
      </td>
      
      <td class="code">
        <pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">function</span> custom_excerpt<span style="color: #009900;">&#40;</span><span style="color: #000088;">$text</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
	<span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$post</span><span style="color: #339933;">;</span>
	<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">''</span> <span style="color: #339933;">==</span> <span style="color: #000088;">$text</span> <span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
		<span style="color: #000088;">$text</span> <span style="color: #339933;">=</span> get_the_content<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">''</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
		<span style="color: #000088;">$text</span> <span style="color: #339933;">=</span> apply_filters<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'the_content'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$text</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
		<span style="color: #000088;">$text</span> <span style="color: #339933;">=</span> <span style="color: #990000;">str_replace</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">']]&gt;'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">']]&gt;'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$text</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p><strong>Membuat pemformatan HTML tetap muncul pada <em>excerpt</em></strong><br />
<code>the_excerpt()</code> secara otomatis akan menghilangkan semua pemformatan HTML pada posting, jadi semua paragraf, image, link, list atau apapun format HTML akan ditampilkan sebagai plain text di excerpt. Nah, untuk membuat pemformatan HTML tetap tampil masukkan kode berikut:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>7
</pre>
      </td>
      
      <td class="code">
        <pre class="php" style="font-family:monospace;"><span style="color: #000088;">$text</span> <span style="color: #339933;">=</span> <span style="color: #990000;">strip_tags</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$text</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'&lt;p&gt;&lt;blockquote&gt;&lt;img&gt;&lt;a&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//Silakan tambahkan tag HTML lainnya jika diperlukan</span></pre>
      </td>
    </tr>
  </table>
</div>

<p><strong>Mengatur panjang <em>excerpt</em></strong><br />
Secara <em>default</em>, WordPress akan mengambil 55 kata pertama sebuah posting sebagai <em>excerpt</em>, tapi tenang saja, kita dapat mengatur panjang excerpt sesuai keinginan kita, misalnya saja 33 kata.</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>8
9
10
11
</pre>
      </td>
      
      <td class="code">
        <pre class="php" style="font-family:monospace;"><span style="color: #000088;">$excerpt_length</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">33</span><span style="color: #339933;">;</span>
	<span style="color: #000088;">$words</span> <span style="color: #339933;">=</span> <span style="color: #990000;">explode</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">' '</span><span style="color: #339933;">,</span> <span style="color: #000088;">$text</span><span style="color: #339933;">,</span> <span style="color: #000088;">$excerpt_length</span> <span style="color: #339933;">+</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #990000;">count</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$words</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">&gt;</span> <span style="color: #000088;">$excerpt_length</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
		<span style="color: #990000;">array_pop</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$words</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p><strong>Mengganti […] (<em>suffix dot</em>) dengan <em>read more link</em></strong><br />
Tambahkan baris kode berikut:</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>12
13
14
15
16
17
</pre>
      </td>
      
      <td class="code">
        <pre class="php" style="font-family:monospace;"><span style="color: #990000;">array_push</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$words</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'&lt;a href="'</span><span style="color: #339933;">.</span> get_permalink<span style="color: #009900;">&#40;</span><span style="color: #000088;">$post</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">ID</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'"&gt;'</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'Baca selengkapnya &raquo;'</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'&lt;/a&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	<span style="color: #000088;">$text</span> <span style="color: #339933;">=</span> <span style="color: #990000;">implode</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">' '</span><span style="color: #339933;">,</span> <span style="color: #000088;">$words</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	<span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span>
<span style="color: #b1b100;">return</span> <span style="color: #000088;">$text</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p><strong>Memberitahu WordPress untuk mengubah pengaturan <em>excerpt</em></strong><br />
Langkah terakhir adalah memberitahu WordPress agar mengubah pengaturan *excerpt *</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>18
19
</pre>
      </td>
      
      <td class="code">
        <pre class="php" style="font-family:monospace;">remove_filter<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'get_the_excerpt'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'wp_trim_excerpt'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
add_filter<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'get_the_excerpt'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'custom_excerpt'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Hasil akhir dari <em>function</em> <code>custom_excerpt</code> adalah seperti ini :</p>

<div class="wp_syntax">
  <table>
    <tr>
      <td class="line_numbers">
        <pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre>
      </td>
      
      <td class="code">
        <pre class="php" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">function</span> custom_excerpt<span style="color: #009900;">&#40;</span><span style="color: #000088;">$text</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
	<span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$post</span><span style="color: #339933;">;</span>
	<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span> <span style="color: #0000ff;">''</span> <span style="color: #339933;">==</span> <span style="color: #000088;">$text</span> <span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
	<span style="color: #000088;">$text</span> <span style="color: #339933;">=</span> get_the_content<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">''</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	<span style="color: #000088;">$text</span> <span style="color: #339933;">=</span> apply_filters<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'the_content'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$text</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	<span style="color: #000088;">$text</span> <span style="color: #339933;">=</span> <span style="color: #990000;">str_replace</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">']]&gt;'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">']]&gt;'</span><span style="color: #339933;">,</span> <span style="color: #000088;">$text</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
        <span style="color: #000088;">$text</span> <span style="color: #339933;">=</span> <span style="color: #990000;">strip_tags</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$text</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'&lt;p&gt;&lt;blockquote&gt;&lt;img&gt;&lt;a&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span> <span style="color: #666666; font-style: italic;">//Silakan tambahkan tag HTML lainnya jika diperlukan</span>
        <span style="color: #000088;">$excerpt_length</span> <span style="color: #339933;">=</span> <span style="color: #cc66cc;">33</span><span style="color: #339933;">;</span>
	<span style="color: #000088;">$words</span> <span style="color: #339933;">=</span> <span style="color: #990000;">explode</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">' '</span><span style="color: #339933;">,</span> <span style="color: #000088;">$text</span><span style="color: #339933;">,</span> <span style="color: #000088;">$excerpt_length</span> <span style="color: #339933;">+</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	<span style="color: #b1b100;">if</span> <span style="color: #009900;">&#40;</span><span style="color: #990000;">count</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$words</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">&gt;</span> <span style="color: #000088;">$excerpt_length</span><span style="color: #009900;">&#41;</span> <span style="color: #009900;">&#123;</span>
		<span style="color: #990000;">array_pop</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$words</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
                <span style="color: #990000;">array_push</span><span style="color: #009900;">&#40;</span><span style="color: #000088;">$words</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'&lt;a href="'</span><span style="color: #339933;">.</span> get_permalink<span style="color: #009900;">&#40;</span><span style="color: #000088;">$post</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">ID</span><span style="color: #009900;">&#41;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'"&gt;'</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'Baca selengkapnya &raquo;'</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'&lt;/a&gt;'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	       <span style="color: #000088;">$text</span> <span style="color: #339933;">=</span> <span style="color: #990000;">implode</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">' '</span><span style="color: #339933;">,</span> <span style="color: #000088;">$words</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
	<span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span>
<span style="color: #b1b100;">return</span> <span style="color: #000088;">$text</span><span style="color: #339933;">;</span>
<span style="color: #009900;">&#125;</span>
remove_filter<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'get_the_excerpt'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'wp_trim_excerpt'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span>
add_filter<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'get_the_excerpt'</span><span style="color: #339933;">,</span> <span style="color: #0000ff;">'custom_excerpt'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></pre>
      </td>
    </tr>
  </table>
</div>

<p>Dan sekarang <em>excerpt</em> blog WordPress kita sudah mempunyai tampilan baru. Oh ya, jika ada yang kurang jelas silakan bertanya di kolom komentar <img src="http://i1.wp.com/cekerholic.com/wp-includes/images/smilies/icon_wink.gif?w=604" alt=";)" class="wp-smiley" data-recalc-dims="1" /> . Selamat mencoba.</p>
</div>
</article>
<aside id="comments">
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'cekerholic'; // required: replace example with your forum shortname
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</aside>
<div class="navigation">
<p>
<span>Tulisan sebelumnya:</span>
<a href="/archives/2010/10/wordpress-tips-memaksimalkan-fungsi-functions-php.html" rel="prev">WordPress Tips: Memaksimalkan Fungsi functions.php</a>
</p>
<p>
<span>Tulisan selanjutnya:</span>
<a href="/archives/2010/10/bikin-kontak-form-blog-sendiri-yuk.html" rel="next">WordPress Tips: Membuat Form Kontak tanpa Plugin</a>
</p>
</div>
</div>
<p class="colophon">
&copy; 2013 Aris FM. Proudly powered by
<a href="http://middlemanapp.com/">Middleman</a>
&amp;
<a href="https://github.com/">Github</a>
</p>
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-8548592-4']);
  _gaq.push(['_trackPageview']);
  
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'cekerholic'; // required: replace example with your forum shortname
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = '//' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

</div>
</body>
</html>
